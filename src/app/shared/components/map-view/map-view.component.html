<div class="map-view-container">

    <div class="report-panel">
        <h3>Reportes</h3>

        <div class="filter-section">
            <label for="category-filter">Filtrar por categor√≠a:</label>
            <select id="category-filter" #categorySelect (change)="filterReports(categorySelect.value)">
                <option value="">Todos</option>
                <option *ngFor="let category of categories" [value]="category.name">{{ category.name }}</option>
            </select>
        </div>

        <ul class="report-list">
          <li *ngFor="let report of filteredReports">
            <div (click)="flyToReport(report)" style="cursor: pointer;">
              <strong>{{ report.title }}</strong>
              ({{ getCategoryNames(report) }})
        
              <!-- Votos importantes -->
              <p class="important-votes">
                <mat-icon
                  class="star-icon"
                  [ngClass]="{
                    'star-gray': report.importantVotes === 0,
                    'star-yellow': report.importantVotes > 0
                  }"
                >star</mat-icon>
                {{ report.importantVotes || 0 }}
                voto{{ report.importantVotes === 1 ? '' : 's' }} importantes
              </p>
        
              <p>descripci√≥n: {{ report.description }}</p>
            </div>
          </li>
          <li *ngIf="filteredReports.length === 0">
            No hay reportes para mostrar con el filtro actual.
          </li>
        </ul>
        
          
    </div>

    <div class="map-panel">
        <div class="search-bar">
            <input type="text" placeholder="Buscar direcci√≥n..." #searchInput/>
            <button (click)="searchAddress(searchInput.value)">üîç</button>
        </div>
        <div class="map" id="map"></div>
    </div>

</div>